<!-- users.ejs
 There are tabs for watching three kinds of user's content. Tabs is an article type.
 There are my reports and my information and change Password in tabs.They are section type.
 The first tab content is my reports that have the table for user's report content.
 The seoond tab content is my information that can edit the user's info.
 The last tab content is changing password. -Eva -->

<% include ./partials/header %>
    <br>
    <article class="tabs">
      <!-- my reports tab -->
      <section id="reports">
          <h2><a href="#reports">My reports</a></h2>
          <table class="table table-striped table-condensed">
              <thead>
                <tr>
                    <th>Title</th>
                    <th>Description</th>
                    <th>Location</th>
                    <th>Category</th>
                    <th>Status</th>
                </tr>
              </thead>
              <!-- throw the for each loop here -->
            
              <tbody>
                  <% result.forEach(row => { %>
                    <tr>
                      <% for (const attribute in row) { %>
                        <td><%= row[attribute] %></td>
                        
                      <% } %>
                    </tr>
                    
                  <% }) %>
                <!-- <tr>
                    <td>05/06/2016</td>
                    <td>Oil Spill</td>
                    <td><%= result[0].streetAddress %></td>
                    <td>Resolved</td>
                </tr>
                <tr>
                    <td>12/12/2015</td>
                    <td>Damaged trees</td>
                    <td>Mission Street</td>
                    <td>Deleted</td>
                </tr>
                <tr>
                    <td>01/12/2014</td>
                    <td>A mass of trash</td>
                    <td>San Francisco State University</td>
                    <td>Pending</td>
                </tr> -->
              </tbody>
          </table>
      </section>

        <!-- my information tab -->
        <!-- If click to 'edit' button, the modal comes out.
        Then, on the modal, user inputs what he change and click to 'update'.
        And user must click to 'save'.  -->
        <section id="information">
            <h2><a href="#information">My information</a></h2>
            <br>
            <table class="table table-user-information">
              <tbody>
                <tr>
                  <td>User Name:</td>
                  <td><%= user.username %></td>
                  <td></td>
                </tr>
                <tr>
                  <td>First Name:</td>
                  <td></td>
                  <td> <button data-toggle="modal" data-target="#edit" class="w3-btn w3-ripple" >✎ Edit</button></td>
                </tr>
                <tr>
                  <td>Last Name:</td>
                  <td></td>
                  <td> <button data-toggle="modal" data-target="#edit" class="w3-btn w3-ripple" >✎ Edit</button></td>
                </tr>
                <tr>
                  <td>Zip code</td>
                  <td></td>
                  <td> <button  data-toggle="modal" data-target="#edit" class="w3-btn w3-ripple" >✎ Edit</button></td>
                </tr>
                <tr>
                  <td>Email</td>
                  <td><%= user.email %></td>
                  <td> <button  data-toggle="modal" data-target="#edit" class="w3-btn w3-ripple" >✎ Edit</button></td>
                </tr>
                </tbody>
              </table>
              <br><br>
              <div class="col-md-9 text-center">
                <button id="save" name="save" class="btn btn-success">Save</button>
                <button id="cancel" name="cancel" class="btn btn-danger">Cancel</button>
              </div>
        </section>

        <!-- change password tab -->
        <!-- User inputs the new password and confrim password then click to 'save.' -->
        <section id="password">
            <h2><a href="#password">Change password</a></h2>
            <br>
            <div class="form-group">
              <label class="col-md-9 control-label" for="textinput"> New Password</label>
              <div class="col-md-9">
              <input id="textinput" name="textinput" type="text" placeholder="enter new password" class="form-control input-md">
              </div>
            </div>

            <div class="form-group">
              <label class="col-md-9 control-label" for="textinput">Confirm Password</label>
              <div class="col-md-9">
              <input id="textinput" name="textinput" type="text" placeholder="confirm password" class="form-control input-md">
            </div>
            </div>
            <br><br>
              <div class="col-md-9 text-center">
                <button id="save" name="save" class="btn btn-success">Save</button>
                <button id="cancel" name="cancel" class="btn btn-danger">Cancel</button>
              </div>
        </section>
    </article>

<!-- edit modal window -->

    <div id="edit" class="modal fade" role="dialog">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <button  class="close" data-dismiss="modal">×</button>
        </div>
        <div class="modal-body">
             <input type="text" class="form-control"  placeholder="First Name">
        </div>
        <div class="modal-footer">
          <button id="up" class="btn btn-success" data-dismiss="modal">Update</button>
          <button class="btn btn-default" data-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>

  <!-- edit status modal -->
  <div id="editStatus" class="modal fade" role="dialog">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button  class="close" data-dismiss="modal">×</button>
          </div>
          <div class="modal-body">
               <input type="text" class="form-control"  placeholder="First Name">
          </div>
          <div class="modal-footer">
            <button id="up" class="btn btn-success" data-dismiss="modal">Update</button>
            <button class="btn btn-default" data-dismiss="modal">Close</button>
          </div>
        </div>
      </div>
    </div>

  <% include ./partials/footer %>
